/* --- Estilos Generales y Fuentes --- */
body {
    margin: 0;
    font-family: 'Roboto', sans-serif;
    background-color: #f0f0f0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh; /* Ocupa toda la altura de la ventana */
    overflow: hidden; /* Evita el scroll */
}

/* --- Contenedor Principal del Juego (Mobile-First) --- */
#game-container {
    width: 100%;
    height: 100vh; /* Ocupa toda la altura de la ventana */
    max-width: 450px; /* Ancho máximo para que no se vea demasiado estirado en tablets */
    background-color: #e3e1dc;
    border-left: 5px solid #8b4513;
    border-right: 5px solid #8b4513;
    position: relative;
    overflow: hidden;
    box-shadow: 0 0 20px rgba(0,0,0,0.3);
    cursor: pointer;
}

/* --- Suelo de la Biblioteca (animado) --- */
#game-container::before {
    content: '';
    position: absolute;
    bottom: 0;
    width: 200%;
    height: 100px; /* Un poco más de altura para el suelo */
    background: repeating-linear-gradient(
        90deg,
        #d4a574,
        #d4a574 50px,
        #c19660 50px,
        #c19660 100px
    );
    animation: move-ground 2s linear infinite;
}

@keyframes move-ground {
    from { transform: translateX(0); }
    to { transform: translateX(-50%); }
}

/* --- Jugador --- */
#player {
    width: 50px;
    height: 60px;
    background-color: #4a90e2;
    position: absolute;
    bottom: 100px; /* Posicionado sobre el nuevo suelo */
    left: 15%; /* Posición relativa para que se adapte */
    border-radius: 10px;
    transition: bottom 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Animación de salto más suave */
}

#player.jump {
    bottom: 220px; /* Altura del salto */
}

/* --- Obstáculos e Ítems (Estilos base) --- */
.obstacle, .item {
    position: absolute;
    bottom: 100px; /* Alineado con el jugador y el suelo */
    width: 50px;
    height: 50px;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}

/* Estilos específicos para cada tipo de obstáculo */
.obstacle.noise { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23FF5722"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>'); }
.obstacle.food { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23FFC107"><path d="M18.06 22.99h1.66c.84 0 1.53-.64 1.63-1.46L23 5.05h-5V1h-1.97v4.05h-4.97l.3 2.34c1.71.47 3.31 1.32 4.27 2.26 1.44 1.42 2.43 2.89 2.43 5.29v8.05zM1 21.99V21h15.03v.99c0 .55-.45 1-1.01 1H2.01c-.56 0-1.01-.45-1.01-1zm15.03-7c0-8-15.03-8-15.03 0h15.03zM1.02 17h15v2h-15z"/></svg>'); }

/* Estilos específicos para cada tipo de ítem */
.item.book { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%234CAF50"><path d="M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"/></svg>'); }
.item.ipad { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%232196F3"><path d="M19 1H5c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm-5 20H10v-1h4v1zm3-3H7V4h10v14z"/></svg>'); }


/* --- UI del Juego (Puntuación) --- */
#score, #high-score {
    position: absolute;
    top: 15px;
    font-family: 'Press Start 2P', cursive;
    font-size: 16px; /* Ligeramente más grande para móviles */
    color: #333;
    z-index: 10;
    text-shadow: 1px 1px 2px rgba(255,255,255,0.7);
}
#high-score {
    right: 15px;
}
#score {
    left: 15px;
}

/* --- Pantallas Superpuestas (Overlays) --- */
.overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    z-index: 20;
    padding: 20px;
    box-sizing: border-box;
}

.overlay h1 {
    font-family: 'Press Start 2P', cursive;
    font-size: 28px;
    margin-bottom: 20px;
}

.overlay p {
    font-size: 18px;
    margin: 5px 0;
}

.overlay button {
    margin-top: 25px;
    padding: 15px 25px;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    border: none;
    border-radius: 8px;
    background-color: #4a90e2;
    color: white;
    transition: background-color 0.3s;
}

.overlay button:hover {
    background-color: #357abd;
}

.hidden {
    display: none !important;
}

/* --- Popup de Información (Tips) --- */
.popup {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    max-width: 350px;
    background-color: white;
    color: #333;
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    z-index: 30;
    text-align: center;
}

.popup p {
    font-size: 18px;
    margin-bottom: 20px;
}

.popup button {
    padding: 10px 20px;
    cursor: pointer;
    border: none;
    border-radius: 5px;
    background-color: #4CAF50;
    color: white;
    font-weight: bold;
    font-size: 16px;
}